<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Énigme</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Résolvez l'énigme !</h1>
        <p id="enigme"></p>
        <input type="text" id="reponse" placeholder="Votre réponse">
        <button onclick="verifierReponse()">Valider</button>
        <p id="message"></p>
        <button id="btn-reponse" onclick="afficherReponse()">Afficher la réponse</button>
        <div id="images-container"></div>
        <button id="btn-suivant" onclick="passerEnigmeSuivante()">Suivant</button>
    </div>
    
    <script>
        let enigmes = [
            { 
                question: "Je suis petit le matin, grand le soir, et je disparais la nuit. Qui suis-je ?", 
                reponse: "l'ombre", 
                images: ["dm_p1.jpg", "dm_p2.jpg","dm_p3.jpg","dm_p4.jpg","dm_p5_1.jpg"] 
            },
            { 
                question: "Plus je suis chaud, plus je suis frais. Qui suis-je ?", 
                reponse: "le pain", 
                images: ["dm_p5_2.jpg", "dm_p6.jpg","dm_p7.jpg"] 
            },
            { 
                question: "Je peux être plein ou vide, mais je contiens toujours du vent. Qui suis-je ?", 
                reponse: "un ballon", 
                images: ["dm_p8.jpg","dm_p9.jpg","dm_p10.jpg","dm_p11.jpg"] 
            },
            { 
                question: "On me prend sans me toucher, on me suit sans me voir. Qui suis-je ?", 
                reponse: "le souffle", 
                images: ["ton-image4-1.jpg", "ton-image4-2.jpg"] 
            }
        ];
        let indexEnigme = 0;
        let reponseTrouvee = false;
        let reponseMontree = false;
        
        function chargerEnigme() {
            document.getElementById("enigme").textContent = enigmes[indexEnigme].question;
            document.getElementById("reponse").value = "";
            document.getElementById("message").textContent = "";
            document.getElementById("btn-reponse").style.display = "none";
            document.getElementById("btn-suivant").style.display = "none";
            document.getElementById("images-container").innerHTML = "";
            reponseTrouvee = false;
            reponseMontree = false;
            setTimeout(() => {
                if (!reponseTrouvee) {
                    document.getElementById("btn-reponse").style.display = "block";
                }
            }, 300000); // 5 minutes
        }

        function verifierReponse() {
            let reponse = document.getElementById("reponse").value.toLowerCase();
            let bonneReponse = enigmes[indexEnigme].reponse;
            
            if (reponse === bonneReponse) {
                document.getElementById("message").textContent = "Bravo ! Voici votre récompense :";
                afficherImages();
                if (indexEnigme < enigmes.length - 1) {
                    document.getElementById("btn-suivant").style.display = "block";
                } else {
                    document.getElementById("message").textContent += " Toutes les énigmes ont été résolues !";
                }
                reponseTrouvee = true;
            } else {
                document.getElementById("message").textContent = "Mauvaise réponse, essayez encore !";
            }
        }
        
        function afficherReponse() {
            document.getElementById("message").textContent = "La réponse est : " + enigmes[indexEnigme].reponse;
            reponseMontree = true;
            afficherImages();
        }
        
        function afficherImages() {
            let imagesContainer = document.getElementById("images-container");
            imagesContainer.innerHTML = "";
            enigmes[indexEnigme].images.forEach(src => {
                let img = document.createElement("img");
                img.src = src;
                img.alt = "Récompense";
                imagesContainer.appendChild(img);
            });
        }
        
        function passerEnigmeSuivante() {
            if (indexEnigme < enigmes.length - 1) {
                indexEnigme++;
                chargerEnigme();
            }
        }
        
        chargerEnigme();
    </script>
</body>
</html>
